<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>RL Ranks Pro</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="data:,">
</head>
<body>
  <main class="wrap">
    <header class="top">
      <h1>2v2 Rank Predictor</h1>
      <p class="sub">Enter your starting rank &amp; division → project your path over the next N games.</p>
    </header>

    <!-- STEP 1 -->
    <section class="card">
      <h2 class="step">Step 1 · Starting point</h2>
      <div class="grid">
        <label>
          Start Rank
          <select id="rank" aria-label="Start Rank" disabled>
            <option>Loading…</option>
          </select>
        </label>

        <label>
          Start Division
          <select id="div" aria-label="Start Division" disabled>
            <option>—</option>
          </select>
          <small>Divisions increase I → IV. SSL has one division.</small>
        </label>

        <label>
          Games to project
          <input id="games" type="number" min="1" max="200" value="50" />
        </label>

        <label>
          Recent Win %
          <input id="win" type="number" min="0" max="100" placeholder="optional" />
          <small>Leave blank to use the model’s base win rate.</small>
        </label>

        <label class="full">
          Win% regression toward 50% as you climb
          <div class="row">
            <input id="regress" type="range" min="0" max="100" value="14" />
            <span id="regressTag" class="tag">14% • gentle</span>
          </div>
          <small>0% = never regresses. 100% = snaps toward 50% very quickly.</small>
        </label>

        <details class="full backup">
          <summary>Advanced · MMR override (optional)</summary>
          <label>
            Exact current 2v2 MMR
            <input id="mmrOverride" type="number" min="-100" max="4000" placeholder="If set, overrides rank/div midpoint" />
          </label>
        </details>

        <label class="full">
          Display name (optional)
          <input id="name" placeholder="Shown in the header only" />
        </label>
      </div>

      <div class="actions">
        <button id="btnPredict" class="primary">Predict</button>
      </div>
    </section>

    <!-- OUTPUT -->
    <section id="out" class="card hide">
      <div class="head">
        <h2 id="title">2v2 Doubles</h2>

        <div class="badges">
          <div class="badge">
            <div class="k">Current</div>
            <div class="v" id="currRank">—</div>
            <div class="s"><span id="currMMR">—</span> MMR · <span id="currWR">—</span>% WR</div>
          </div>
          <div class="badge" id="projBadge">
            <div class="k">
              Projected
              <button id="explain" class="ghost tiny" aria-label="Explain">?</button>
            </div>
            <div class="v" id="projRank">—</div>
            <div class="s"><span id="projMMR">—</span> MMR · <span id="projWR">—</span>% WR (final)</div>
          </div>
        </div>
      </div>

      <div class="chart">
        <svg id="svg" viewBox="0 0 800 320" preserveAspectRatio="none" aria-label="Projected MMR over games"></svg>
        <div class="axis">
          <span id="x0">0</span>
          <span id="xMid">—</span>
          <span id="xMax">—</span>
        </div>
      </div>

      <!-- LADDER -->
      <div class="ladder" aria-label="Rank jump">
        <div class="rank-tile current">
          <div class="rank-name" id="tileCurrName">—</div>
          <div class="rank-range" id="tileCurrRange">—</div>
        </div>

        <div class="jump">
          <div class="arrow" id="ladderArrow"></div>
          <div class="delta" id="mmrDelta">+0</div>
        </div>

        <div class="rank-tile projected" id="tileProjected">
          <div class="rank-name" id="tileProjName">—</div>
          <div class="rank-range" id="tileProjRange">—</div>
        </div>
      </div>
    </section>

    <footer class="foot">
      <small>Divisions increase from I → IV. Supersonic Legend has one division.</small>
    </footer>
  </main>

  <!-- AI Button -->
  <button id="aiBtn" class="ai-fab" title="Ask AI">
    <span class="ai-glow"></span>
    <span>Ask&nbsp;AI</span>
  </button>

  <div id="tooltip" class="tooltip hide"></div>

  <script src="script.js"></script>
  <script src="monetize.js"></script>
</body>
</html>